<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Japanese Gap Analysis</title>
  <script src="https://www.w3.org/Tools/respec/respec-w3c-common" async="" class="remove">
</script>
  <script class="remove">
  var respecConfig = {
      // specification status (e.g. WD, LCWD, WG-NOTE, etc.). If in doubt use ED.
      specStatus:           "ED",
      //publishDate:  		"2015-07-21",
      //previousPublishDate:  "2014-12-16",
      //previousMaturity:  "FPWD",

      noRecTrack:           true,
      shortName:            "jlreq-gap",
      copyrightStart:       "2018",
      edDraftURI:           "https://w3c.github.io/jlreq/gap-analysis/",

     
      // langs array lists languages addressed by this document, in order of speaker (highest first)
      // it is used to generate the javascript needed for the matrix
      langs: ['Japanese'],
      gapDocPath: 'https://w3c.github.io/jlreq/gap-analysis/',

      // if this is a LCWD, uncomment and set the end of its review period
      // lcEnd: "2009-08-05",

      // editors, add as many as you like
      // only "name" is required
      editors:  [
        { name: "Richard Ishida", mailto: "ishida@w3.org", company: "W3C" },
      ],


      wg:           "Internationalization Working Group",
      wgURI:        "https://www.w3.org/International/core/",


	  github: "w3c/jlreq",
      
      
      // langs array lists languages addressed by this document, in order of speaker (highest first)
      // it is used to generate the javascript needed for the matrix
      langs: ['Japanese'],
      gapDocPath: 'https://w3c.github.io/jlreq/gap-analysis/',


      // URI of the patent status for this WG, for Rec-track documents
      // !!!! IMPORTANT !!!!
      // This is important for Rec-track documents, do not copy a patent URI from a random
      // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
      // Team Contact.
      wgPatentURI:  "https://www.w3.org/2004/01/pp-impl/32113/status",
      // !!!! IMPORTANT !!!! MAKE THE ABOVE BLINK IN YOUR HEAD
    };
  </script>
<script src="/i18n-activity/templates/gap-analysis/prompts.js"> </script>
<link rel="stylesheet" href="https://w3c.github.io/typography/gap-analysis/gapanalysis.css">
</head>

<body>
  <div id="abstract">
    <p>This document describes and prioritises gaps for the support of Japanese on the Web and in eBooks. In particular, it is concerned with text layout. It checks that needed features are supported in W3C specifications, in particular HTML and CSS and those relating to digital publications. It also checks whether the features have been implemented in browsers and ereaders. <strong>This is a preliminary analysis.</strong></p>
  </div>

  <div id="sotd">
    <p>This document describes and prioritises gaps for the support of Japanese on the Web and in eBooks. In particular, it is concerned with text layout. It checks that needed features are supported in W3C specifications, in particular HTML and CSS and those relating to digital publications. It also checks whether the features have been implemented in browsers and ereaders. This document complements the document <a href="https://w3c.github.io/jlreq/">Text Layout Requirements for the Japanese Script</a>, which describes the requirements for areas where gaps appear. It is linked to from the <a href="https://w3c.github.io/typography/gap-analysis/language-matrix.html">language matrix</a> that tracks Web support for many languages.</p>
<p>The editor's draft of this document is being developed by the <a href="https://w3c.github.io/jlreq/">Japanese Layout Task Force</a>, part of the W3C <a href="https://www.w3.org/International/ig/">Internationalization Interest Group</a>. It is published by the <a href="https://www.w3.org/International/core/">Internationalization Working Group</a>. The end target for this document is a Working Group Note.</p>
</div>

  <section id="h_introduction">
    <h2>Introduction</h2>
    <p>The W3C needs to make sure that the  needs of scripts and languages around the world are built in to technologies such as HTML, CSS, SVG, etc. so that Web pages and eBooks can look and behave as people expect around the world.</p>
    
    <p>This page documents difficulties people encounter when trying to use the Japanese language and script on the Web. </p>
<p>Having identified an issue, it investigates the current status with regards to web specifications and implementations by user agents (browsers, e-readers, etc.), and attempts to prioritise the severity of the issue for web users.</p>

    <p>A summary of this report and others can be found as part of the <a href="https://w3c.github.io/typography/gap-analysis/language-matrix.html" style="font-size: 140%;">language matrix</a>.</p>
    
    <section id="workflow">
    <h3>Work flow</h3>
    <p><span style="font-weight:bold; font-size: 140%;">This version of the document is a preliminary analysis</span></p>

    <p>Gap analysis work usually starts with a <strong>preliminary analysis</strong>, conducted quickly by one or a small group of experts. Then a more <strong>detailed analysis</strong> is carried out, involving a wider range of experts. The detailed analysis may involve the development of tests, in order to illustrate issues and track results for browsers. The next phase is <strong>ongoing maintenance</strong>. It is expected that the resulting document will not be frozen: as gaps are fixed, this should be noted in the document. It is also possible that new gaps are noticed or arise, and they can be added to this document when that happens.</p>
    
    <p>As the gap analysis develops, the requirements for features that are problematic should be described in the companion document, <a href="https://w3c.github.io/jlreq/">Japanese Layout Requirements</a>. Links to the appropriate part of that document should be added to this document as the material is created. Note that the requirements document should not contain any technology-specific information: all of that belongs here.</p>
    </section>
    
    <section id="prioritization">
    <h3>Prioritization</h3>
    <p>This document not only describes gaps, it also attempts to prioritise them in terms of the impact on the local user. The prioritisation is indicated by colour.</p>
        
        <p>Key:</p>
  <ul style="list-style-type: none;">
        <li class="ok"></li>
        <li class="na"></li>
        <li class="advanced"></li>
        <li class="basic"></li>
        <li class="broken"></li>
        <li class="tbd"></li>
        </ul>
    
    <p>It is important to note that these colours do not indicate to what extent a particular features is broken. They indicate the impact of a broken or missing feature on the content author or end user.</p>
    <p>Basic styling is the level that would be generally accepted as sufficient for most Web pages. Advanced level support would include additional features one might expect to include in ebooks or other advanced typographic formats. There may be features of a script or language that are not supported on the Web, but that are not generally regarded as necessary (usually archaic or obscure features). In this case, the feature can be described here, but the status should be marked as OK.</p>
    <p>The decision as to what priority level is assigned to a described gap is down to the experts doing the gap analysis. It may not always be straightforward to decide. If a given section in this document refers to more than one feature that is broken, each with different impacts on Web users, the priority for the section should be the lowest denominator.</p>
    <p>A cell can be scored as OK if the feature in question is specified in an appropriate specification, and is supported by user agents. A specification that is in CR or later and has two implementations in 'major' browsers will count. This means that the feature may not be supported in all browsers yet. (At some point in the future we may try to distinguish, visually, whether support is available in a specification but still pending in major browsers or applications.) </p>
    </section>
</section>
    
    
    


<section id="direction">
<h2>Text direction</h2>
<p>See also General page layout &amp; progression for features such as column layout, page turning direction, etc. that are affected by text direction.</p>

<section id="vertical_text" class="basic">
<h3>Vertical text</h3>
<p id="prompt-vertical_text" class="status_prompt promptStub"></p>


<section id="vertical_forms">
<h4>Vertical form controls</h4>
<p>One major gap is handling of vertical text in forms. Only the <span class="pass">Firefox</span> desktop browser does a good job of this. <a href="https://www.w3.org/International/tests/repo/results/writing-mode-vertical#rl_forms">See test results</a>. <span class="fail">Other browsers</span> fail resoundingly in terms of orienting form controls vertically and displaying text vertically inside them. More Tests: <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/vertical-form.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/vertical-form-pref.html" target="text">proprietary syntax</a></p>
<p>This has a significant impact for creation of general web sites.</p>
</section>

<section id="upright_orientation">
<h4>Upright text orientation</h4>
<p>Another gap is the CSS <code class="kw" translate="no">text-orientation</code> property. It is only supported as standard by <span class="pass">Firefox</span>. <span class="partial">Safari</span> has buggy support if you use the <code class="kw" translate="no">-webkit</code> proprietary extension: it has  a problem centering the letter in the vertical line. Tests:  <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/upright-i.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/upright-i-pref.html" target="text">proprietary syntax</a></p>
<p>Upright-oriented Latin text, especially, is used commonly for acronyms in Japanese vertical text, so this is a significant gap for general web content.</p>
</section>

<section id="tate_chu_yoko">
<h4>Tate-chu-yoko</h4>
<p>The CSS <code class="kw" translate="no">text-combine-upright</code> property works with the <code class="kw" translate="no">all</code> value in all major browsers, although for <span class="partial">Edge</span> you need to use the proprietary property <code class="kw" translate="no">-ms-text-combine-horizontal</code>. Tests:  <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/tcu-all.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/tcu-all-pref.html" target="text">proprietary syntax</a></p>
<p>With the <code class="kw" translate="no">digits</code> value, it is only supported by <span class="partial">Edge</span> (with it's proprietary property name), but Edge stretches single digits to fit the width of the (vertical) line. Tests: <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/digits.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/digits-pref.html" target="text">proprietary syntax</a></p>
<p>The unavailability of the <code class="kw" translate="no">digits</code> value is an inconvenience, since more interventions and markup are needed when using the <code class="kw" translate="no">all</code> value.</p>
</section>

<section id="vertical_lists">
<h4>Lists</h4>
<p>A common way to orient counters for lists in vertical text is to have an upright number with a dot alongside it.<a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/tcu-all-pref.html" target="text"></a></p>
<p><img src="images/vertical-lists.png" alt=""></p>
<p>The expected way to achieve this in HTML would be to use the following CSS: <code>li::marker { text-combine-upright: all; }</code>, however this cannot be used because browsers don't support <code class="kw" translate="no">text-combine-upright</code>. . Tests: <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/japanese_list_upright.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/japanese_list_upright_pref.html" target="text">proprietary syntax</a></p>
<p>A workaround might be to use fullwidth characters for counters, such as ①, ②, ③ etc., but use of such a workaround requires the availability of custom built counter styles, and only Firefox currently supports the CSS Counter Styles specification. So that doesn't work either. Tests: <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/korean-list-counterstyles.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/korean-list-counterstyles-pref.html" target="text">proprietary syntax</a></p>
<p>It is a significant nuisance for content authoring to not be able to produce upright counters for lists.</p>
</section>

<section id="vertical_table_cells">
<h4>Table cells</h4>
<p>If you place the <code class="kw" translate="no">writing-mode</code> property with a value of <code class="kw" translate="no">vertical-rl</code> on an individual table cell, you would expect the text in that cell to be displayed vertically. This works as expected in <span class="pass">Edge</span>, <span class="pass">Internet Explorer</span> and <span class="pass">Gecko</span> browsers. <span class="fail">Blink</span> and <span class="fail">Webkit</span> browsers, on the other hand, leave the text horizontal but rotate the characters to the left. Note, also, by the way that you have to set the height of the cell in these browsers for a span to be displayed vertically.</p>
<p>See test results for major browsers: <a target="_blank" href="https://www.w3.org/International/tests/repo/results/writing-mode-vertical#rl_tables">vertical-rl</a>, <a target="_blank" href="https://www.w3.org/International/tests/repo/results/writing-mode-vertical#rl_tables">vertical-lr</a>.</p>
</section>

<section id="logical_properties">
<h4>Logical properties</h4>
<p>A great deal of time and confusion can be saved by using 'logical' properties, rather than right, left, top and bottom, for things such as alignment. </p>
<p>CSS is developing the necessary keywords in the <a href="https://drafts.csswg.org/css-logical-props/">Logical Properties</a> specification, which at the time of writing is still an editor's draft. Some of the properties described there, however, are already supported by browsers.</p>
<p>Unfortunately, Microsoft <span class="fail">Edge</span> still doesn't support the start and end values for text-align</p>
<p>Tests: <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/text-align-end.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/text-align-end-pref.html" target="text">proprietary syntax</a></p>
</section>
</section>




<section id="bidi_text" class="na">
<h3>Bidirectional text</h3>
<p id="prompt-bidi_text" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>
</section>




<section id="h_characters_and_phrases">
<h2>Characters and phrases</h2>
    
    
    
<section id="charset" class="ok">
<h3>Characters &amp; encoding</h3>
<p id="prompt-charset" class="status_prompt promptStub"></p>

<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="fonts" class="tbd">
<h3>Fonts</h3>
<p id="prompt-fonts" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="font_style" class="tbd">
<h3>Font  styles, weight, etc</h3>
<p id="prompt-font_style" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="glyphs" class="na">
<h3>Glyph shaping and positioning</h3>
<p id="prompt-glyphs" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="cursive" class="na">
<h3>Cursive text</h3>
<p id="prompt-cursive" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="transforms" class="basic">
<h3>Transforming characters</h3>
<p id="prompt-transforms" class="status_prompt promptStub"></p>


<section id="full_width_transform">
<h4>Full-width transforms don't work</h4>
    <p><code class="kw" translate="no">text-transform: full-width</code> currently only works in Gecko. Tests:  <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/upright-en.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/upright-en-pref.html" target="text">proprietary syntax</a></p>
<p>More tests: <a href="tests/text-transform-fullwidth/text-transform-fullwidth-001">a-z</a>, <a href="tests/text-transform-fullwidth/text-transform-fullwidth-002">A-Z</a>, <a href="tests/text-transform-fullwidth/text-transform-fullwidth-003">punctuation</a>, <a href="tests/text-transform-fullwidth/text-transform-fullwidth-004">katakana</a>, <a href="tests/text-transform-fullwidth/text-transform-fullwidth-005">punctuation</a>, <a href="tests/text-transform-fullwidth/text-transform-fullwidth-006">symbols</a></p>
</section>
</section>




<section id="baselines" class="tbd">
<h3>Baselines &amp; inline alignment</h3>
<p id="prompt-baselines" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>




<section id="segmentation" class="tbd">
<h3>Grapheme/word segmentation &amp; selection</h3>
<p id="prompt-segmentation" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>
 


<section id="punctuation_etc" class="tbd">
<h3>Punctuation &amp; other inline features</h3>
<p id="prompt-punctuation_etc" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>
   
    
    
<section id="text_decoration" class="advanced">
<h3>Text decoration</h3>
<p id="prompt-text_decoration" class="status_prompt promptStub"></p>


<section id="emphasis_requirements">
<h4>Boten mark requirements</h4>
    <p>For requirements, see JLReq  <a href="https://w3c.github.io/jlreq/#composition_of_emphasis_dots">Composition of Emphasis Dots.</a></p>
<p>JLReq lists the following ways of showing emphasis in Japanese.</p>
<ol>
<li>Select a different typeface.</li>
<li>Use LEFT CORNER BRACKET &quot;「&quot; and RIGHT CORNER BRACKET &quot;」&quot; or LEFT ANGLE BRACKET &quot;〈&quot; and RIGHT ANGLE BRACKET &quot;〉</li>
<li>Change the colour.</li>
<li>Underline</li>
<li>Boten marks (aka emphasis marks).</li>
</ol>
<p>(1) and (2) are popular approaches. (5) is not as common, but is a traditional approach with some value attached.</p>
<p>(1), (2) and (3) present no difficulties. For (4) see [[[#boten_marks_lacking_wide_support]]].</p>
</section>



<section id="boten_marks_lacking_wide_support">
<h4>Boten marks lacking wide support</h4>
<p>There are <a href="https://w3c.github.io/i18n-tests/results/emphasis-marks">tests for boten mark support</a> that show that they are not supported by <span class="fail">Chrome</span> 63.0.3239.132 or <span class="fail">Edge</span>, but they are supported by <span class="pass">Firefox</span> 58.0 and <span class="pass">Safari</span> 11.0.3.</p>
<p>The expected behaviour for basic support of boten marks is <a href="https://drafts.csswg.org/css-text-decor-3/#emphasis-marks">specified in CSS</a>.</p>
<p>Given that there are alternative ways of showing emphasis, and although there are already two implementations, I  mark this as an advanced need.</p>
<p>Additional requirements arose while the text was being written for CSS. They relate to text that is annotated with ruby at the same time as annotation marks. The conclusions were:</p>
<ol>
<li> Emphasis marks go outside ruby.     </li>
<li>If ruby only spans part of the emphasised word, emphasis marks stay as close as possible to the base.     </li>
<li>Where a ruby annotation is hidden or empty, the emphasis marks should continue at the same height.</li>
</ol>
<p>JLReq also requires that emphasis marks not appear over commas, full stops and brackets.</p>
<p>There are currently no tests for these behaviours, and no requirements in jlreq for the former (with ruby). <strong>Need to take a closer look.</strong></p>
<p>JLReq calls out the usual practise of using sesame shaped boten for vertical text, and bullets for horizontal. Controls for this exist in CSS, and tests show that it is supported by the browsers that support boten.</p>
<p>The default side for boten is to the right of vertical lines and above horizontal lines, according to JLReq. CSS controls allow this positioning to be set by the author, and in fact it is the default in both browsers that support boten for text where a lang tag identifies it as Japanese.</p>
</section>
</section>



<section id="quotations" class="advanced">
<h3>Quotations</h3>
<p id="prompt-quotations" class="status_prompt promptStub"></p>


<section id="q_defaults">
<h4>Default quotation marks for q element</h4>
<p>If the <code class="kw" translate="no">html</code> tag sets the language of a page, the HTML specification says that  the <code class="kw" translate="no">q</code> element should by default produce quotation marks according to the information in CLDR for that language.</p>
<p>For Japanese, according to CLDR the default quote marks should be 「...」, and embedded quote marks 『...』. <span class="fail">Firefox</span> doesn't change default quote marks based on language setting. <span class="pass">Chrome</span>, <span class="pass">Safari</span> &amp; <span class="pass">Edge</span> are ok. See a <a href="https://w3c.github.io/i18n-tests/results/the-q-element.html#language">test and results</a>.</p>
</section>

<section id="q_section">
<h4>Default quotation marks in a new language section</h4>
<p>In addition, the default quotation marks for the <code class="kw" translate="no">q</code> element  are not set to the appropriate characters by the browser  when the element appears inside a Japanese section of a page that has a different overall language. This is currently per the HTML specification (both W3C and WhatWG).  There is <a href="https://github.com/whatwg/html/issues/3636">an issue</a> raised against the WhatWG version for this to be changed.</p>
</section>

<section id="q_multilingual">
<h4>Embedded quotations in a different language</h4>
<p>Japanese quotes embedded in text in another language can also be problematic if the outer language uses different quotation marks. This is due to the browsers choosing default quotation marks based on the language of the <em>quotation</em>, rather than that of the surrounding text. See <a href="https://w3c.github.io/i18n-tests/results/the-q-element.html#ml_nesting">a test</a>. This behaviour is specified in the WhatWG version of the HTML spec, but no longer in the W3C version. There is <a href="https://github.com/whatwg/html/issues/3636">an issue</a> raised against the WhatWG version for this to be changed.</p>
</section>

<p>Marking all the above as advanced, because use of the <code class="kw" translate="no">q</code> element is optional (quote characters can be used instead), and it can be styled using CSS for the general case.</p>
</section>


<section id="inline_notes" class="basic">
<h3>Inline notes &amp; annotations</h3>
<p id="prompt-inline_notes" class="status_prompt promptStub"></p>


<section id="tabular_markup">
<h4>Tabular markup not supported</h4>
<p>The basic pattern of 'tabular' markup is <code>ruby-base ruby-base ... ruby-text ruby-text ...</code>. An advantage to this approach is that it enables you to style the ruby text to appear inline in such a way that all the ruby text for a word follows that word together. Inline styling can be useful in space-constrained situations, where it would be too difficult to read small ruby characters. <a href="https://w3c.github.io/i18n-drafts/articles/ruby/markup.en.html#tabular">Read more</a>.</p>
<p>This also makes certain applications of double-sided ruby impossible when the ruby on each side of the base spans a different set of base characters.</p>
<p>When text is marked up in mono-ruby way, searching may not work well. If you have the following markup</p>
<p><code>&lt;p&gt;&lt;ruby&gt;漢&lt;rt&gt;かん&lt;/rt&gt;字&lt;rt&gt;じ&lt;/rt&gt;&lt;/ruby&gt;&lt;/p&gt;</code></p>
<p>and search for the base text &quot;漢字&quot; in a browser, you will not get a result. Tabular markup could solve this problem.</p>
<p>Only <span class="pass">Firefox</span> supports tabular ruby markup. <span class="fail">Chrome</span>, <span class="fail">Safari</span>, &amp; <span class="fail">Edge</span> do not. See <a href="https://w3c.github.io/i18n-drafts/articles/ruby/markup-data/eg_tabular">a test</a>. See more <a href="https://w3c.github.io/i18n-tests/results/ruby-html">tests for ruby in HTML markup</a></p>
<p>For creation of HTML with jukugo ruby this is advanced in impact, however there are other implications when tabular markup is not supported that have a more important impact.</p>
</section>

<section id="double_sided_ruby">
<h4>Double-sided ruby not supported well</h4>
<p>In order to get double-sided ruby to appear on either side of the base text in HTML, you need the CSS <code class="kw" translate="no">ruby-position</code> property to work with the value <code class="kw" translate="no">under</code>. It currently works per the standard only with <span class="pass">Firefox</span>. It works with the proprietary<code class="kw" translate="no"> -webkit</code> prefix in <span class="partial">Chrome</span> and <span class="partial">Safari</span>, but doesn't work with <span class="fail">Edge</span>. <a href="https://w3c.github.io/i18n-tests/results/css-ruby#ruby_position">See test results</a>.</p>
<p>Double-sided ruby doesn't appear often in Japanese text, but it is used, and should be available to content authors.</p>
</section>

<section id="ruby_align">
<h4>Ruby aligment and other styling unavailable</h4>
<p>For background information read <a href="https://w3c.github.io/i18n-drafts/articles/ruby/styling.en.html#alignment">Aligning annotations and bases</a>.</p>
<p>Fine control in HTML over the placement of ruby annotations relative to the base require the availability of the CSS property <code class="kw" translate="no">ruby-align</code>. This only works in <span class="pass">Firefox</span>, and sometimes in <span class="partial">Edge</span> with proprietary syntax. It doesn't work for <span class="fail">Chrome</span> or <span class="fail">Safari</span>. See <a href="https://w3c.github.io/i18n-tests/results/css-ruby#ruby_align">results for major browsers</a>.</p>
<p>The impact of this is probably more important for advanced typographic layout.</p>
</section>
</section>



<section id="data_formats" class="ok">
<h3>Data formats &amp; numbers</h3>
<p id="prompt-data_formats" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<!--section id="otherinline" class="tbd">
    <h3>Other inline features</h3>
    <p class="status_prompt">Does the script have special ways of representing inline notes (such as  kumimoji in Japanese) or other inline features that need to be supported? <a href="https://w3c.github.io/typography/index#other_inline_features">See available information</a> or <a href="https://github.com/w3c/i18n-activity/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20is%3Aopen%20label%3Ainline-features%20label%3Atype-info-request">check for currently needed data</a>.</p>


    <p></p>
    </section-->

</section>






<section id="h_lines_and_paragraphs">
<h2>Lines and Paragraphs</h2>

 
<section id="line_breaking" class="tbd">
<h3>Line breaking</h3>
<p id="prompt-line_breaking" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="hyphenation" class="na">
<h3>Hyphenation</h3>
<p id="prompt-hyphenation" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="justification" class="tbd">
<h3>Text alignment &amp; justification</h3>
<p id="prompt-justification" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="spacing" class="tbd">
<h3>Letter spacing</h3>
<p id="prompt-spacing" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="lists" class="basic">
<h3>Lists, counters, etc.</h3>
<p id="prompt-lists" class="status_prompt promptStub"></p>


<section id="local_counter_styles">
<h4>Local counter styles not supported</h4>
<p>A number of predefined counter styles in the CSS Counter Styles spec are not widely supported by browsers, or use a different separator from that specified. Because the custom mechanism of the Counter Styles spec is not supported by browsers other than Firefox, users are unable to fix this for themselves.</p>
</section>

<section id="list_markers">
<h4>List markers incorrectly oriented</h4>
<p>There is an additional problem for list counters in vertical text. A common way to orient counters for lists in vertical text is to have an upright number with a dot alongside it.<a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/tcu-all-pref.html" target="text"></a></p>
<p><img src="images/vertical-lists.png" alt=""></p>
<p>The expected way to achieve this in HTML would be to use the following CSS: <code>li::marker { text-combine-upright: all; }</code>, however this cannot be used because browsers don't support <code class="kw" translate="no">text-combine-upright</code>. . Tests: <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/japanese_list_upright.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/japanese_list_upright_pref.html" target="text">proprietary syntax</a></p>
<p>A workaround might be to use fullwidth characters for counters, such as ①, ②, ③ etc., but use of such a workaround requires the availability of custom built counter styles, and only Firefox currently supports the CSS Counter Styles specification. So that doesn't work either. Tests: <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/korean-list-counterstyles.html" target="text">standard syntax</a> • <a href="https://w3c.github.io/i18n-drafts/articles/vertical-text/index-data/korean-list-counterstyles-pref.html" target="text">proprietary syntax</a></p>
<p>It is a significant nuisance for content authoring to not be able to produce upright counters for lists.</p>
</section>
</section>



<section id="initials" class="tbd">
<h3>Styling initials</h3>
<p id="prompt-initials" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<!--section id="otherpara" class="tbd">
    <h3>Other paragraph features</h3>
    <p class="status_prompt">IAre there other features of paragraph design that are peculiar to your script? <a href="https://w3c.github.io/typography/index#other_para_features">See available information</a> or <a href="https://github.com/w3c/i18n-activity/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20is%3Aopen%20label%3Aparagraph-features%20label%3Atype-info-request">check for currently needed data</a>.</p>


    <p></p>
</section-->

</section>







<section id="h_pages">
<h2>Page &amp; book layout</h2>

<section id="page_layout" class="tbd">
<h3>General page layout &amp; progression</h3>
<p id="prompt-page_layout" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="footnotes_etc" class="tbd">
<h3>Footnotes, endnotes, etc.</h3>
<p id="prompt-footnotes_etc" class="status_prompt promptStub"></p>


<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="headers_footers" class="tbd">
<h3>Page headers, footers, etc.</h3>
<p id="prompt-headers_footers" class="status_prompt promptStub"></p>



<!--section id="xxxxxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<section id="interaction" class="basic">
<h3>Forms &amp; user interaction</h3>
<p id="prompt-interaction" class="status_prompt promptStub"></p>

<p>See [[[#vertical_forms]]].</p>
<!--section id="xxx">
<h4>xxxxxx</h4>
<p></p>
</section-->
</section>



<!--section id="morepage" class="ok">
    <h3>Other page layout &amp; pagination features</h3>


    <p></p>
    </section-->
</section>






<section id="h_other">
<h2>Other</h2>


<section id="culturespecific" class="tbd">
    <h3>Culture-specific features</h3>
    <p class="status_prompt">Sometimes a script or language does things that are not common outside of its sphere of influence. This is a loose bag of additional items that weren't previously mentioned. This section may also be relevant for observations related to locale formats (such as number, date, currency, format support).</p>


    <p></p>
    </section>



<section id="other" class="tbd">
    <h3>What else?</h3>
    <p class="status_prompt">There are many other CSS modules which may need review for script-specific requirements, not to mention the SVG, HTML, Speech, MathML and other specifications. What else is likely to cause problems for worldwide deployment of the Web, and what requirements need to be addressed to make the Web function well locally?</p>


    <p></p>
    </section>
    
</section>




<details>
<summary style="margin-top:4em; cursor: pointer;">Show summary</summary>
<pre id="summaryPlaceholder" style="white-space: pre-wrap;"></pre>
</details>
<script>
var out = ''
for (let i=0;i<respecConfig.langs.length;i++) {
    out += '{lang: "'+respecConfig.langs[i]+'"'
    out += ', url:"'+respecConfig.gapDocPath+'"'
    out += ', tentative:' + true
    out += ', vertical_text:"'+document.getElementById('vertical_text').className+'"'
    out += ', bidi_text:"'+document.getElementById('bidi_text').className+'"'

    out += ', charset:"'+document.getElementById('charset').className+'"'   
    out += ', fonts:"'+document.getElementById('fonts').className+'"'
    out += ', font_style:"'+document.getElementById('font_style').className+'"'
    out += ', glyphs:"'+document.getElementById('glyphs').className+'"'
    out += ', cursive:"'+document.getElementById('cursive').className+'"'
    out += ', transforms:"'+document.getElementById('transforms').className+'"'
    out += ', baselines:"'+document.getElementById('baselines').className+'"'
    out += ', segmentation:"'+document.getElementById('segmentation').className+'"'
    out += ', punctuation_etc:"'+document.getElementById('punctuation_etc').className+'"'
    out += ', text_decoration:"'+document.getElementById('text_decoration').className+'"'
    out += ', quotations:"'+document.getElementById('quotations').className+'"'
    out += ', inline_notes:"'+document.getElementById('inline_notes').className+'"'
    out += ', data_formats:"'+document.getElementById('data_formats').className+'"'

    out += ', line_breaking:"'+document.getElementById('line_breaking').className+'"'
    out += ', hyphenation:"'+document.getElementById('hyphenation').className+'"'
    out += ', justification:"'+document.getElementById('justification').className+'"'
    out += ', spacing:"'+document.getElementById('spacing').className+'"'
    out += ', lists:"'+document.getElementById('lists').className+'"'
    out += ', initials:"'+document.getElementById('initials').className+'"'

    out += ', page_layout:"'+document.getElementById('page_layout').className+'"'
    out += ', footnotes_etc:"'+document.getElementById('footnotes_etc').className+'"'
    out += ', headers_footers:"'+document.getElementById('headers_footers').className+'"'
    out += ', interaction:"'+document.getElementById('interaction').className+'"'
    out += '},\n'

    out = out.replace(/tbd/g,'')
    out = out.replace(/broken/g,'0')
    out = out.replace(/ok/g,'3')
    out = out.replace(/advanced/g,'2')
    out = out.replace(/basic/g,'1')
    out = out.replace(/"na/g,'"-')
    }
document.getElementById('summaryPlaceholder').textContent = out

var temp = document.querySelectorAll('section')
for (let x=0;x<temp.length;x++) {
    console.log(temp[x].id)
    }







addPrompts() 


</script>



<!--section class="appendix" id="acknowledgements">
<h2>Acknowledgements</h2>

    <p>Special thanks to the following people who contributed to this document (contributors' names listed in in alphabetic order).</p>

    <p class="acknowledgement">This Person, That Person, etc</p>

    <p data-lang="en">Please find the latest info of the contributors at the <a href="https://github.com/w3c/hlreq/graphs/contributors">GitHub contributors list</a>.</p>
  </section-->
</body>
</html>
